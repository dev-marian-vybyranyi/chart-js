<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../styles.css">
  </head>
  <body>
    <div class="chartCard">
      <div class="chartBox">
        <canvas id="myChart"></canvas>
        <button id="previousButton" onclick="weekData(-6, -6)">Previous</button>
        <button id="nextButton" onclick="weekData(6, 6)">Next</button>
      </div>
    </div>
  
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
    const week = [];
    const weekDatapoints = [];

    for(let i = 1; i <= 52; i++){
      week.push(`Week ${i}`);
      weekDatapoints.push(i)
    }

    const data = {
      labels: week,
      datasets: [{
        label: 'Weekly Data',
        data: weekDatapoints,
        backgroundColor: 'rgba(54, 162, 235, 0.2)',
        borderColor: 'rgba(54, 162, 235, 1)',
        borderWidth: 1
      }]
    };

    const config = {
      type: 'bar',
      data: data,
      options: {
        scales: {
          x: {
            min: 8,
            max: 14,
          },
          y: {
            beginAtZero: true
          }
        }
      }
    };

    const myChart = new Chart(
      document.getElementById('myChart'),
      config
    );

    function weekData(start, end){
      const startScale = myChart.config.options.scales.x.min + start;
      const endScale = myChart.config.options.scales.x.max + end;
      const previousButton = document.getElementById('previousButton');
      const nextButton = document.getElementById('nextButton');

      myChart.config.options.scales.x.min = startScale;
      myChart.config.options.scales.x.max = endScale;

      previousButton.disabled = false;
      nextButton.disabled = false;

      if(startScale < 0){
        myChart.config.options.scales.x.min = 0;
        myChart.config.options.scales.x.max = 6;
        previousButton.disabled = true;
      }

      if(endScale > week.length){
        myChart.config.options.scales.x.min = week.length - 6;
        myChart.config.options.scales.x.max = week.length - 1;
        nextButton.disabled = true;
      }

      myChart.update();
    };


    </script>


  </body>
</html>




